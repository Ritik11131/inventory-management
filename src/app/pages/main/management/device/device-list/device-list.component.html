<app-generic-table [data]="devices" [columns]="columns" [rows]="10" [header]="'Sim Providers'" [isDataLoading]="isLoading" [actions]="actions"
   [exportFilename]="'Device'" [globalFilterFields]="['imei','iccid','sno']" (edit)="onEditDevice($event)" (delete)="onDeleteDevice($event)" [selectionMode]="'multiple'"
   (sampleBulkUpload)="exportSampleBulkUpload($event)" (selectionChange)="onSelectionChange($event)" (new)="openNew($event)" (bulkUpload)="bulkUploadDevice($event)"
   (transferInventory)="onTransferInventory($event)" (sendCommand)="onSendCommand($event)" (activate)="onActivate($event)" (fitment)="onFitment($event)"
   (unlinkDevice)="handleDeviceUnlink($event)" (emitOverlayAction)="handleOverlayAction($event)" (setAlert)="handleSetAlert($event)" />


<app-generic-dialog [customSaveLabel]="customSaveLabel" [stepFormFields]="stepFormFields" [disableStepperNextBtn]="disableStepperNextBtn"
   [isStepForm]="accesStepForm" [isValidated]="isValidated" [validationState]="validationState" [visible]="deviceDialog"
    [header]="'Device'" [width]="'600px'" [modal]="true" [isEditing]="isEditing"
    [styleClass]="''" [fields]="fields" [data]="device" (onHide)="onHideDialog($event)"
    (onSave)="onSaveDevice($event)" (onInputTextChange)="onInputTextChange($event)"  [template]="currentTemplate"
    (stepperDropDownChange)="stepperDropdwonChange($event)" (stepperInputTextChange)="stepperInputTextChange($event)" />

<ng-template #setAlert>
  <div class="p-3">

    <!-- Section 1: Alerts with Checkboxes -->
    <div class="mb-3">
      <div class="font-bold mb-2">Select Alerts</div>
      <div class="grid">
        <div class="col-12 md:col-3" *ngFor="let alert of alertOptions">
          <div class="flex align-items-center">
            <p-checkbox
              [value]="alert.value"
              name="alerts"
              inputId="{{ alert.value }}"
              [(ngModel)]="selectedAlerts"
            ></p-checkbox>
            <label for="{{ alert.value }}" class="ml-2">{{ alert.label }}</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Section 2: Send via and Inputs -->
    <div class="mb-2">
      <div class="font-bold mb-2">Send via</div>
      <div class="flex align-items-center gap-4 mb-3">
        <div class="flex align-items-center">
          <p-radioButton
            name="sendOption"
            value="email"
            inputId="email"
            [(ngModel)]="sendMethod"
          ></p-radioButton>
          <label for="email" class="ml-2">Email</label>
        </div>
        <div class="flex align-items-center">
          <p-radioButton
            name="sendOption"
            value="sms"
            inputId="sms"
            [(ngModel)]="sendMethod"
          ></p-radioButton>
          <label for="sms" class="ml-2">SMS</label>
        </div>
      </div>

      <!-- Conditional Inputs -->
      <div *ngIf="sendMethod === 'email'" class="field">
        <label for="emailInput" class="block mb-1">Email Address</label>
        <input
          id="emailInput"
          type="email"
          pInputText
          [(ngModel)]="email"
          placeholder="Enter email"
          class="w-full"
        />
      </div>

      <div *ngIf="sendMethod === 'sms'" class="field">
        <label for="phoneInput" class="block mb-1">Phone Number</label>
        <input
          id="phoneInput"
          type="tel"
          pInputText
          [(ngModel)]="phone"
          placeholder="Enter phone number"
          class="w-full"
        />
      </div>
    </div>

  </div>
</ng-template>



    